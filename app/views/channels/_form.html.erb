<%= form_for(@channel, url: channels_path, method: :post, remote: true) do |form| %>
  <div id="error_messages_new_channel" class="alert alert-danger">
    <%= render "shared/error_messages", resource: @channel %>
  </div>

  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= form.label :detail %>
    <%= form.text_area :detail, class: "form-control" %>
  </div>
  <div class="form-group"> 
    <%= form.label :avatar %>
    <%= form.file_field :avatar, id: "inputImageChannel", class: "form-control" %>

    <div class="image-post">
      <img id="imageChannel">
    </div>
  </div>  
  </br >
  <div class="button-create">
      <%= form.submit t(".create_channel"), class: "btn btn-outline-primary" %>
  </div>
<% end %>

<script type="text/javascript">
  $('#inputImageChannel').change(function(){
    const file = this.files[0];
    if (file){
      let reader = new FileReader();
      reader.onload = function(event){
        console.log(event.target.result);
        $('#imageChannel').attr('src', event.target.result);
      }
      reader.readAsDataURL(file);
    }
  });
</script>
